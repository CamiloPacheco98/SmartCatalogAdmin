<div class="users-container">
  <!-- Header -->
  <div class="users-header">
    <h1>{{ 'app.users.title' | translate }}</h1>
    <button class="refresh-btn" (click)="loadUsers()" [disabled]="loading">
      <i class="refresh-icon">ğŸ”„</i>
      {{ 'app.users.refresh' | translate }}
    </button>
  </div>

  <!-- Loading State -->
  <div *ngIf="loading" class="loading-container">
    <div class="loading-spinner"></div>
    <p>{{ 'app.users.loading' | translate }}</p>
  </div>

  <!-- Error State -->
  <div *ngIf="error && !loading" class="error-container">
    <div class="error-message">
      <i class="error-icon">âš ï¸</i>
      {{ error }}
    </div>
    <button class="retry-btn" (click)="loadUsers()">{{ 'app.users.retry' | translate }}</button>
  </div>

  <!-- Users Grid -->
  <div *ngIf="!loading && !error" class="users-grid">
    <div *ngFor="let user of users" class="user-card">
      <!-- User Image -->
      <div class="user-image-container">
        <img [src]=" user.imagePath || 'default-avatar.svg'" class="user-image"
          (error)="$event.target.src='default-avatar.svg'" />
      </div>

      <!-- User Info -->
      <div class="user-info">
        <h3 class="user-name">{{ `${user.name} ${user.lastName}`.trim() }}</h3>
        <p class="user-email">{{ user.email }}</p>
        <p class="user-document">{{ 'app.users.documentNumber' | translate }}: {{ user.documentNumber }}</p>
        <p class="user-created">
          <i class="date-icon">ğŸ“…</i>
          {{ 'app.users.created' | translate }}: {{ user.createdAt | date:"d 'de' MMMM 'de' y, HH:mm" }}
        </p>
      </div>

      <!-- Verification Status -->
      <div class="verification-section">
        <div class="status-container">
          <span class="status-label">{{ 'app.users.status' | translate }}:</span>
          <span class="status-badge" [class]="user.verified ? 'status-verified' : 'status-unverified'">
            {{ user.verified ? ( 'app.users.verified' | translate ) : ( 'app.users.unverified' | translate ) }}
          </span>
        </div>

        <!-- Edit Mode -->
        <div *ngIf="editingUser === user.id" class="edit-mode">
          <div class="status-selector">
            <label class="radio-option">
              <input type="radio" name="status-{{ user.id }}" [value]="true"
                [(ngModel)]="tempVerificationStatus[user.id]" />
              <span class="radio-label verified">{{ 'app.users.verified' | translate }}</span>
            </label>
            <label class="radio-option">
              <input type="radio" name="status-{{ user.id }}" [value]="false"
                [(ngModel)]="tempVerificationStatus[user.id]" />
              <span class="radio-label unverified">{{ 'app.users.unverified' | translate }}</span>
            </label>
          </div>
          <div class="edit-actions">
            <button class="btn btn-success" (click)="updateUserStatus(user)" [disabled]="loading">
              <i class="btn-icon">âœ“</i>
              {{ 'app.users.update' | translate }}
            </button>
            <button class="btn btn-secondary" (click)="cancelEditing(user)">
              <i class="btn-icon">âœ•</i>
              {{ 'app.users.cancel' | translate }}
            </button>
          </div>
        </div>

        <!-- View Mode -->
        <div *ngIf="editingUser !== user.id" class="view-mode">
          <button class="btn btn-primary edit-btn" (click)="startEditing(user)">
            <i class="btn-icon">âœï¸</i>
            {{ 'app.users.editStatus' | translate }}
          </button>
        </div>
      </div>
    </div>
  </div>

  <!-- Empty State -->
  <div *ngIf="!loading && !error && users.length === 0" class="empty-state">
    <div class="empty-icon">ğŸ‘¥</div>
    <h3>{{ 'app.users.empty.title' | translate }}</h3>
    <p>{{ 'app.users.empty.description' | translate }}</p>
  </div>
</div>